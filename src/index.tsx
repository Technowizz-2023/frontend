//  ||   Import plugins  ||
import Elysia from "elysia";
import { html } from "@elysiajs/html";
import * as elements from "typed-html";

// ||   Importing Components    ||
import { BaseHtml } from "./components/BaseHtml.tsx";

// ! ||--------------------------------------------------------------------------------||
// ! ||                                   Init Elysia                                  ||
// ! ||--------------------------------------------------------------------------------||
const app = new Elysia()
    .use(html())

    // * ||--------------------------------------------------------------------------------||
    // * ||                                  Init Plugins                                  ||
    // * ||--------------------------------------------------------------------------------||

    // ? ||--------------------------------------------------------------------------------||
    // ? ||                                  Get Requests                                  ||
    // ? ||--------------------------------------------------------------------------------||
    .get("/", ({ html }) => html(<BaseHtml />))

    // ? ||--------------------------------------------------------------------------------||
    // ? ||                                  Post Reuqests                                 ||
    // ? ||--------------------------------------------------------------------------------||

    // ? ||--------------------------------------------------------------------------------||
    // ? ||                                Get static assets                               ||
    // ? ||--------------------------------------------------------------------------------||
    .get("styles.css", () => Bun.file("./src/assets/css/output.css"))

    // ! ||  Init Listening on hostname and port then proceed to console.log for easier access  ||
    .listen(
        {
            hostname: "127.0.0.1",
            port: 7070,
        },
        ({ hostname, port }) => {
            console.log(`ðŸ¦Š Elysia is running at http://${hostname}:${port}`);
        }
    );
